# Tezrisat Environment Variables

## Backend Environment Variables (.env)

Copy this file to `.env` and fill in your values.

```bash
cp .env.example .env
```

### Required Variables

#### OPENAI_API_KEY
Your OpenAI API key for AI-powered microcourse generation.
- **Required**: Yes (for core functionality)
- **Get it from**: https://platform.openai.com/api-keys
- **Example**: `sk-proj-...`

### Optional Variables

#### SECRET_KEY
Django secret key for cryptographic signing.
- **Required**: No (has development default)
- **Generate**: `python -c "import secrets; print(secrets.token_urlsafe(50))"`
- **Production**: Must be set to a secure random value

#### CORS_ALLOW_ALL_ORIGINS
Allow all origins for CORS (development only).
- **Required**: No
- **Values**: `true` or `false`
- **Default**: `false`

#### CORS_ALLOWED_ORIGINS
Comma-separated list of allowed origins when `CORS_ALLOW_ALL_ORIGINS` is `false`.
- **Example**: `https://example.com,https://app.example.com`

#### CSRF_TRUSTED_ORIGINS
Comma-separated list of trusted origins for CSRF protection.
- **Example**: `https://example.com,https://app.example.com`

#### CORS_ALLOW_CREDENTIALS
Whether to allow credentials for CORS requests.
- **Required**: No
- **Values**: `true` or `false`
- **Default**: `true`

#### LANGCHAIN_TRACING_V2
Enable LangChain tracing for debugging AI operations.
- **Required**: No
- **Values**: `true` or `false`
- **Default**: `false`

#### LANGCHAIN_API_KEY
LangChain API key for advanced tracing features.
- **Required**: No (only if tracing is enabled)
- **Get it from**: https://smith.langchain.com/

#### WOLFRAM_ALPHA_APPID
Wolfram Alpha API key for mathematical content generation.
- **Required**: No
- **Get it from**: https://developer.wolframalpha.com/

#### SERPAPI_API_KEY
SerpAPI key for web search functionality in content generation.
- **Required**: No
- **Get it from**: https://serpapi.com/

## Frontend Environment Variables

### VITE_API_URL
Backend API URL for the frontend application.
- **Required**: No
- **Default**: `http://localhost:8000`
- **Production**: Set to your deployed backend URL

## Environment File Examples

### Development (.env)
```bash
# Django Settings
SECRET_KEY=django-insecure-dev-key-change-in-production
CORS_ALLOW_ALL_ORIGINS=true
CORS_ALLOW_CREDENTIALS=true

# AI Services
OPENAI_API_KEY=sk-proj-your-openai-key-here

# Optional AI Services
LANGCHAIN_TRACING_V2=false
LANGCHAIN_API_KEY=
WOLFRAM_ALPHA_APPID=
SERPAPI_API_KEY=
```

### Production (.env)
```bash
# Django Settings
SECRET_KEY=your-secure-random-secret-key-here
DEBUG=false
DJANGO_ENV=production
CORS_ALLOW_ALL_ORIGINS=false
CORS_ALLOWED_ORIGINS=https://example.com,https://app.example.com
CSRF_TRUSTED_ORIGINS=https://example.com,https://app.example.com
CORS_ALLOW_CREDENTIALS=true

# AI Services (Required)
OPENAI_API_KEY=sk-proj-your-openai-key-here

# Optional AI Services
LANGCHAIN_TRACING_V2=true
LANGCHAIN_API_KEY=ls__your-langchain-key-here
WOLFRAM_ALPHA_APPID=your-wolfram-key-here
SERPAPI_API_KEY=your-serpapi-key-here

# Database (if using PostgreSQL)
DATABASE_URL=postgresql://user:password@localhost:5432/tezrisat
```

## Security Notes

- Never commit your `.env` file to version control
- Use different API keys for development and production
- Rotate API keys regularly
- Store secrets securely (consider using a secret management service in production)

## Getting API Keys

### OpenAI API Key (Required)
1. Go to https://platform.openai.com/api-keys
2. Sign up or log in to your OpenAI account
3. Create a new API key
4. Copy the key (starts with `sk-proj-`)

### Optional Services
- **LangChain**: https://smith.langchain.com/
- **Wolfram Alpha**: https://developer.wolframalpha.com/
- **SerpAPI**: https://serpapi.com/

## Troubleshooting

### "OpenAI API key not configured"
- Ensure `OPENAI_API_KEY` is set in your `.env` file
- Check that the key is valid and has credits
- Restart the Django development server after adding the key

### Frontend can't connect to backend
- Check `VITE_API_URL` in frontend environment
- Ensure backend is running on the specified port
- Verify CORS settings if deploying separately
